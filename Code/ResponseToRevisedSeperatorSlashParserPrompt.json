// Your objective is to reformat/parse pieces of text into a structured Boolean algebra representation suitable for a computer.

// Context:
// You will be provided text detailing eligibility criteria for a cancer research clinical trial. The text will typically consist of sections named "Inclusion Criteria" and "Exclusion Criteria". If a section's name isn't specified, treat it as "Inclusion Criteria" by default.

// Task:

// Inclusion Criteria: Combine all criteria using the "$and" operator.
// Example: If criteria are (A, B, C), format them as:
// "$and" : [
//     {A},
//     {B},
//     {C}
// ]

// Exclusion Criteria: Use the "$or" operator between criteria and encompass the entire set with the "$not" operator.
// Example: For criteria (A, B, C):
// "$not" : {
//     "$or" :[
//         {A},
//         {B},
//         {C},
//     ]
// }

// After formatting both sets, combine them with the "$and" operator.

// Ensure all opened brackets, whether square [] or curly {}, are properly closed. Nested conditions might be present; handle them recursively following the same rules.

// Output:
// Your output should strictly adhere to the provided format. Represent ANDs and ORs with [], while NOTs use {}. The goal is to output this structured Boolean algebra representation.

// Refer to the provided examples for a clearer understanding of the input and expected output.

// Example:

// Given the input text:
// Inclusion Criteria:\n\nâ€¢ Patients with pathologically confirmed pancreatic cancer referred for image guided radiation therapy (IGRT)\n\nExclusion Criteria:\n\n* Age \\<18\n* Inability to consent\n* Known coagulopathy/thrombocytopenia (INR \\>1.5, platelets \\<75)\n* Patients on antiplatelet/anticoagulant medication that cannot safely be discontinued 5-7 days prior to the procedure\n* Gold allergy\n* Current infection\n* EUS evidence of vessel interfering with path of fiducial marker\n* Pregnancy

// Produce the output:
// "$and": [
//     {
//         "$and": [
//             {
//                 "pathologically confirmed pancreatic cancer"
//             },
//             {
//                 "referred for image guided radiation therapy (IGRT)"
//             }
//         ]
//     },
//     {
//         "$not": {
//             "$or": [
//                 {
//                     "less than 18 years old"
//                 },
//                 {
//                     "Unable to consent"
//                 },
//                 {
//                     "has Known coagulopathy/thrombocytopenia"
//                 },
//                 {
//                     "$and":[
//                         {
//                             "is on antiplatelet/anticoagulant medication"
//                         },
//                         {
//                             "cannot get off antiplatelet/anticoagulant medication 5-7 days prior to procedure"
//                         }
//                     ]
//                 },
//                 {
//                     "has gold allergy"
//                 },
//                 {
//                     "has current infection"
//                 },
//                 {
//                     "has EUS evidence of vessel interfering with path of fiducial marker"
//                 },
//                 {
//                     "is pregnant"
//                 }
                
//             ]
//         }
//     }
// ]

// Input:
// "eligibilityCriteria": "Inclusion Criteria:\n\n* black or white race\n* non-Hispanic ethnicity\n* age 19-65 years\n* able to travel to the UAB Bionutrition Unit daily to retrieve meals\n\nExclusion Criteria:\n\n* gastrointestinal (GI) conditions i.e., irritable bowel, diverticulitis, peptic ulcers, Crohn's, GI cancers, and adenatomous polyps\n* antibiotic or probiotic use in the previous 90 days\n* smoking/tobacco use\n* heavy alcohol consumption\n* major medical conditions (e.g., renal disease, diabetes, cancer",
//     "healthyVolunteers": true,
//     "sex": "ALL",
//     "minimumAge": "19 Years",
//     "maximumAge": "65 Years",
//     "stdAges": [
//       "ADULT",
//       "OLDER_ADULT"
//     ]

Output:
"$and": [
    {
        "$or": [
            {
                "black race"
            },
            {
                "white race"
            }
        ]
    },
    {
        "non-Hispanic ethnicity"
    },
    {
        "$and": [
            {
                "age 19-65 years"
            },
            {
                "able to travel to the UAB Bionutrition Unit daily to retrieve meals"
            }
        ]
    },
    {
        "$not": {
            "$or": [
                {
                    "has gastrointestinal (GI) conditions"
                },
                {
                    "has taken antibiotics or probiotics in the past 90 days"
                },
                {
                    "smokes/uses tobacco"
                },
                {
                    "consumes heavy alcohol"
                },
                {
                    "has major medical conditions"
                }
            ]
        }
    }
]